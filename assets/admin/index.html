<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Admin Portal</title>
		<style>
			body {
				font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
				line-height: 1.6;
				max-width: 1200px;
				padding: 0 1rem;
				color: #333;
			}
			h1,
			h2,
			h3 {
				color: #111;
			}
			#auth-view,
			#content-view {
				border: 1px solid #ddd;
				padding: 1.5rem;
				border-radius: 8px;
			}
				display: none;
			} /* Hidden by default */
			input,
			button,
			textarea {
				font-size: 1rem;
				padding: 0.5rem;
				border-radius: 4px;
				border: 1px solid #ccc;
			}
			button {
				cursor: pointer;
				background-color: #007acc;
				color: white;
				border: none;
			}
			button:hover {
				background-color: #005fa3;
			}
			button.delete {
				background-color: #d9534f;
			}
			.container {
				display: grid;
				grid-template-columns: 1fr 1fr;
				gap: 2rem;
			}
			.post,
			.rule {
				border: 1px solid #eee;
				padding: 1rem;
				border-radius: 4px;
				margin-bottom: 1rem;
			}
			.post-meta {
				font-size: 0.85em;
				color: #666;
			}
			.tag {
				background-color: #eee;
				padding: 0.2em 0.5em;
				border-radius: 4px;
				font-size: 0.8em;
				margin-right: 0.5em;
			}
			.status {
				font-weight: bold;
			}
			.status.published {
				color: #5cb85c;
			}
			.status.draft {
				color: #f0ad4e;
			}
			.form-group {
				margin-bottom: 1rem;
			}
			label {
				display: block;
				margin-bottom: 0.25rem;
			}
		</style>
	</head>
	<body>
		<h1>Admin Portal</h1>

		<div id="auth-view">
			<h2>Login</h2>
			<p>Enter your Admin Token to manage posts and rules.</p>
			<input type="password" id="admin-token" placeholder="Admin Token" />
			<button id="login-button">Login</button>
		</div>

		<div id="content-view">
			<button id="logout-button" style="float: right">Logout</button>
			<div class="container">
				<section id="posts-section">
					<h2>Manage Posts</h2>
					<div id="posts-list"></div>
				</section>

				<section id="rules-section">
					<h2>Tagging Rules</h2>
					<div id="rules-list"></div>
					<h3>Add/Edit Rule</h3>
					<form id="rule-form">
						<input type="hidden" id="rule-id" />
						<div class="form-group">
							<label for="rule-priority">Priority (lower runs first)</label>
							<input type="number" id="rule-priority" value="10" required />
						</div>
						<div class="form-group">
							<label>Conditions (all must match)</label>
							<div id="rule-conditions"></div>
							<button type="button" id="add-condition">Add Condition</button>
						</div>
						<div class="form-group">
							<label for="rule-tags">Tags to Add (comma-separated)</label>
							<input type="text" id="rule-tags" placeholder="e.g. newsletter, project-x" required />
						</div>
						<button type="submit">Save Rule</button>
						<button type="button" id="clear-form">Clear</button>
					</form>
				</section>
			</div>
		</div>

		<script src="/admin/admin.js"></script>
	</body>
</html>